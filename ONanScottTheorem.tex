A permutation group is either transitive
or is a subdirect product of transitive groups, while a transitive group is
either primitive or is a subgroup of an iterated wreath product of primitive
groups. (Iterated wreath products are discussed in section~\ref{sec:quas-groups} below.)
Hence primitive groups can be viewed as the building blocks of all
permutations groups and their classification helps us to better understand
the structure of permutation groups in general.

The \defn{socle} of a group $G$ is the subgroup generated by the minimal normal
subgroups of $G$ and is denoted by $\Soc(G)$. By~\cite{Dixon:1996}, Corollary 4.3B, the socle
of a finite primitive group is isomorphic to the direct product of one or more
copies of a simple group $T$.  The O'Nan-Scott Theorem classifies the primitive
permutation groups according to the structure of their socles.  This section
sets up the background for the statement and proof of the theorem. The
theorem itself is presented in section~\ref{sec:onan-scott-theorem}.

\subsection{Preliminary definitions and lemmas}
Two permutation representations 
$\rho : G \rightarrow \Sym(\Omega)$ and
$\lambda : G \rightarrow \Sym(\Gamma)$ are \defn{equivalent} provided $|\Omega| =
|\Gamma|$ and there exists a $G$-set isomorphism
\[
\sigma : \<\Omega, \{\rho(g) : g\in G\}\> \rightarrow 
\<\Gamma, \{\lambda(g) : g\in G\}\>.
\]
That is  $\sigma: \Omega \rightarrow 
\Gamma$ satisfies $\sigma(\omega^{\rho(g)}) = (\sigma(\omega))^{\lambda(g)}$ for
all $\omega \in \Omega$ and $g \in G$.

A subgroup $K$ of a group $G$ is called \defn{characteristic} if it is fixed by all
automorphisms of $G$.
A group $K \neq 1$ is called characteristically simple if $K$ has no proper 
non-trivial characteristic subgroups.  The following are easily verified:
\begin{enumerate}[(a)]
\item If $K \subnormal N \subnormal G$ and $K$ is characteristic in $N$ then
  $K\subnormal G$.
\item If $N_1 \neq N_2$ are minimal normal subgroups of a group $G$, then $[N_1,
  N_2]\leq N_1\cap N_2 = 1$, so $N_1$ and $N_2$ commute.
\item If $K$ is characteristically simple then $K\cong T^r$ for some
 simple group $T$. (In particular, minimal normal subgroups are direct powers of
 simple groups.)

\end{enumerate}
%% {\it Proof of (c)}. If $T$ is a minimal normal subgroup of $K$, then so is
%% $T^\alpha$ for any $\alpha \in  \Aut K$. So by (b) either $T^\alpha = T$ or 
%% $T \cap T^\alpha = 1$. 
%% In the latter case
%% $T T^\alpha = T \times T^\alpha$ is a direct product. Since 
%% $K$ is characteristically simple, it is
%% generated by all the $T^\alpha$. By induction we obtain that $K$ is a direct product of
%% a finite number of such $T^\alpha$. But then any normal subgroup of $T$ is normal in
%% $T$, so by minimality of $T$, $T$ is simple.

Let $G$ be a primitive permutation group on an $n$-element set $A$, 
and let $N, N_1, N_2$ be nontrivial normal subgroups of $G$.  Then,
\begin{enumerate}
\item $N$ is transitive. (Otherwise, the orbits of $N$ form a system of
  imprimitivity for $G$.)
\item Either $C_G(N) = 1$, or $C_G(N)$ is regular and $|C_G(N)| = |A|$.
\item If $[N_1, N_2] = 1$ then $N_1 = C_G(N_2)$, $N_2 = C_G(N_1)$, and $N_1
  \cong N_2$.
\item For each $a\in A$, $NG_a = G$.
\item If $N$ is minimal, then $G_a\cap N$ is maximal among $G_a$-invariant
  subgroups of $N$.
\end{enumerate}

The lemmas above appear in Wilson's notes, while the next three results do
not. I believe it is the last of these that enables Wilson to quickly conclude
the affine case of the O'Nan-Scott Theorem. 

\begin{enumerate}[(i)]
\item Suppose $G$ acts transitively on two sets $\Omega$ and $\Gamma$,
and let $H$ be a stabilizer of a point in $\Omega$. Then the representations are
equivalent iff $H$ is a stabilizer of a point in $\Gamma$.

For the next two results, suppose $G$ acts transitively on $\Omega$ and $\alpha \in
\Omega$.

\item A subgroup $N\leq G$ is transitive iff $NG_\alpha = G$.
Also, $N$ is regular iff in addition $N \cap G_\alpha = 1$.

\item Let $H$ be the normalizer of $G$ in $\Sym(\Omega)$, with the usual conjugation
action given by the homomorphism
\[
\Psi : H \rightarrow \Aut(G) \qquad \Psi(n): g \mapsto n^{-1} g n
\]
and fix $\sigma \in \Aut(G)$.  Then
$\sigma \in \Im \Psi$ iff $(G_\alpha)^\sigma = G_\beta$ for some $\beta \in \Omega$.
\end{enumerate}

\begin{corollary}
If $G$ is regular, then $\Aut(G) = \Im \Psi$ and $H_\alpha \cong \Aut(G)$ and $H \cong G \rtimes \Aut(G)$.
\end{corollary}

Let $G$ be a finite primitive subgroup of $\Sym(\Omega)$ with regular minimal normal
subgroup $N$ and fix $\alpha \in \Omega$.  Let $H$ be the normalizer of $N$ in $\Sym(\Omega)$.  
%By (c) above, $N\cong T^m$ for some simple group $T$.
The group $H$ is called the ``holomorph of $N$.'' By the corollary above, $H \cong
N\rtimes \Aut(N)$.  More precisely, the algebra consisting of the point stabilizer $H_\alpha$ acting on
$\Omega$ is isomorphic to the algebra consisting of $\Aut(N)$ acting naturally
on $N$ and $H = N H_\alpha$ with $N\cap H_\alpha = 1$.  Similarly, $G = NG_\alpha$.


\subsection{The O'Nan-Scott Theorem}
\label{sec:onan-scott-theorem}

\begin{theorem}[O'Nan-Scott Theorem, version 1] 
Let $G$ be a primitive permutation
group of degree $d$, and let $H := \Soc(G) \cong T^m$ with $m \geq 1$. 
Then one of the following holds.
\begin{enumerate}
\item 
$H$ is regular and
  \begin{enumerate}
  \item 
  \defn{Affine type} $T$ is cyclic of order $p$, so $|H| = p^m$ . Then 
$d = p^m$ and $G$ is permutation isomorphic to a subgroup of the affine
general linear group $\AGL(m,p)$. We call $G$ a group of \emph{affine type}.
\item \defn{Twisted wreath product type} $m \geq 6$, the group $T$ is 
  nonabelian and $G$ is a group of \emph{twisted wreath product type}, with
  $d = |T|^m$.
  \end{enumerate}
\item $H$ is non-regular and non-abelian and
  \begin{enumerate}
  \item 
\defn{Almost simple} $m = 1$ and $T \leq G \leq \Aut(T)$.
\item \defn{Product action} $m \geq 2$ and $G$ is permutation isomorphic to a
subgroup of the product action wreath product $P \wr S_{m/l}$ of degree
$d = nm/l$. The group $P$ is primitive of type 2.(a) or 2.(c), $P$ has
degree $n$ and $\Soc(P) \cong T^l$, where $l \geq 1$ divides $m$.
\item 
\defn{Diagonal type} $m \geq 2$ and $T^m \leq G \leq T^m . (\Out(T ) \times S_m)$, with
the diagonal action. The degree $d = |T|^{m-1}$.
  \end{enumerate}
\end{enumerate}
\end{theorem}
We can see immediately that there are no twisted wreath product type
groups of degree less than $60^6$ ($=46.656$ billion).
Note that this definition of product action groups is more restrictive
than that given by some authors. This is in order to make the Oâ€™Nan-Scott
classes disjoint.
\\\\
{\bf The O'Nan-Scott Theorem (version 2)}
\\
The O'Nan-Scott Theorem classifies the maximal subgroups
of the alternating and symmetric groups. It does not tell us exactly what the
maximal subgroups are -- that is too much to ask -- but it does provide a first
step towards writing down the list of maximal subgroups of $A_n$ or $S_n$ for any
particular reasonable value of $n$.

\begin{theorem}[O'Nan-Scott Theorem, version 2] 
 If $G \leq S_n$ is a permutation group not containing $A_n$, then $G$
is a subgroup of one or more of the following subgroups:
\begin{enumerate}[(i)]
\item An intransitive group $S_k \times S_m$ , where $n = k + m$;
\item An imprimitive group $S_k \wr S_m$ , where $n = km$;
\item A primitive wreath product $S_k \wr S_m$ , where $n = k^m$;
\item An affine group $AGL_d(p) \cong p^d \rtimes GL_d(p)$, where $n=p^d$;
\item A group of shape $T^m.(\Out(T) \times S_m)$, where $T$ is a non-abelian simple
group, acting on the cosets of the ``diagonal'' subgroup $\Aut(T)\times S_m$, where
$n = |T|^{m-1}$;
\item An almost simple group acting on the cosets of a maximal subgroup.
\end{enumerate}
\end{theorem}
Note that the theorem does not assert that all these subgroups are maximal
in $S_n$, or in $A_n$. This is a rather subtle question, particularly as far as subgroups
of $A_n$ are concerned. The last category of subgroups also requires us to know all
the finite simple groups, or at least those with a maximal subgroup of index $n$.
In practice, this means that we can only ever hope to get a recursive description
of the maximal subgroups of $A_n$ and $S_n$.
